# Default values for lupa.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

nameOverride: ""
fullnameOverride: ""

image:
  repository: epsagon/lupa
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets: []

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

ports:
  otlp-grpc:
    enabled: true
    containerPort: 4317
    servicePort: 4317
    protocol: TCP
  otlp-http:
    enabled: true
    containerPort: 4318
    servicePort: 4318
    protocol: TCP
  lupa-api:
    enabled: true
    containerPort: 8080
    servicePort: 8080
    protocol: TCP

ingress:
  enabled: false
  className: "" # nginx
  annotations: {}
  #  kubernetes.io/ingress.class: nginx
  #  kubernetes.io/tls-acme: "true"
  hosts: []
  #   - host: lupa.example.com
  #     paths:
  #       - path: /
  #         pathType: Prefix
  #         port: 8080
  #       - path: /grpc
  #         pathType: Prefix
  #         port: 4317
  #       - path: /http
  #         pathType: Prefix
  #         port: 4318
  tls: []
  #   - secretName: lupa-tls
  #     hosts:
  #       - lupa.example.com
  additionalIngresses: []
  # - name: otlp-http
  #   className: nginx
  #   annotations: {}
  #   hosts:
  #     - host: lupa.example.com
  #       paths:
  #         - path: /
  #           pathType: Prefix
  #           port: 4318
  #   tls:
  #     - secretName: lupa-tls
  #       hosts:
  #         - lupa.example.com

env:
  DEBUG: "false"
  API_PORT: "8080"
  # ES_ENDPOINT: "http://elasticsearch:9200"

collectorConfig: |
  receivers:
    otlp:
      protocols:
        grpc:
        http:
  processors:
    batch:
  exporters:
    # elasticsearch:
    #   endpoints: ["http://elasticsearch:9200/"]
  service:
    pipelines:
      traces:
        receivers: [otlp]
        processors: [batch]
        # exporters: [elasticsearch]

resources: {}

replicaCount: 1

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage:

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

nodeSelector: {}

tolerations: []

affinity: {}
